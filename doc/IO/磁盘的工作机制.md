### 文件访问方式
读取和写入文件的IO 操作都需要调用操作系统的接口，因为磁盘设备是由操作系统管理的，引用程序要访问物理设备需要通过系统调用的方式来工作。由于需要系统调用，所以就可能存在内核空间地址和用户空间地址切换的问题， 这是操作系统为了保护系统本身的运行安全而将内核程序运行使用的内存空间和用户程序运行的内存空间隔离造成的。 这样虽然保证了内核程序运行的安全性，但是也必然存在了==数据可能需要从内核空间向用户空间复制的问题，以及数据从外部磁盘向运行中的进程的内存区域移动==
为了加速IO 访问，内核空间使用缓存机制，将从磁盘的文件按照一定的组织方式进行缓存，如果用户访问的是同一段地址空间数据，那么操作系统将从内核缓存中直接去除返回给用户程序

磁盘有如下几种文件访问方式
1. 标准访问文件方式 (BIO?)
    
当应用程序调用read 接口时，操作系统检查内核的高速缓存中是否存在需要的数据，如果存在 ，则直接返回，不存在，则从磁盘中读取，在缓存在操作系统中 。当应用程序调用write 接口将数据从用户地址空间复制到内存地址空间的缓存中，这个使用对于用户程序来说，写操作已经完成

2. 直接IO 方式

所谓直接IO 就是应用程序直接访问磁盘数据，不经过操作系统的内核数据缓存区。这样的目的是减少一次从内核缓冲区到用户程序缓存的数据复制

3. 同步访问文件方式

数据的读取和写入都是同步操作，和标准文件访问方式不同的是，只有当数据被成功写入磁盘时，才返回给应用程序成功的标志。 这种访问文件的方式的性能较差，只有对数据安全性要求高的场景才会使用，而且通常这种操作方式的硬件都是定制的

4. 异步访问文件方式 (NIO)

当访问数据的线程发出请求后，线程会接着区处理其他事情，而不是阻塞等待，当请求的数据返回后再继续处理下面的操作
5.  内存映射方式 （NIO 内存映射？）

操作系统将内存中的某一块区域和磁盘的文件关联起来   ，当要访问内存中的数据时，转化为访问文件的某一段数据，这种方式是减少从内核空间缓存到用户空间缓存的数据复制。因为这两个空间的数据是共享的


### 










