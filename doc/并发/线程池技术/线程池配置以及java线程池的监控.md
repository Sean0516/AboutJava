### 线程池配置的分析角度
1. 任务的性质  CPU 密集型 ，IO密集型 和混合任务
2. 任务的优先级 高 中 低
3. 任务的执行时间 长 中短
4. 任务的依赖性 ： 是否依赖其他系统资源 ，如数据库连接

任务性质不同的任务 可以使用不同规模的线程池分开处理， CPU 密集型任务应配置尽可能小的线程。 如配置N cpu +1 个线程的线程池。 而IO 密集型任务线程并不是一直执行任务，应配置尽可能多的线程 

对于优先级不同的任务可以使用优先级队列 priorityblockingqueue 来处理，可以让优先级高的任务先执行

### 线程池的监控
如果大量使用线程池，需要对线程池进行监控，方便出现问题时，根据线程池的使用状况快速定位问题。 可以通过线程池提供的参数进行监控

1. taskCount :线程池需要执行的任务数量
2. completedtaskcount  线程池运行过程中已完成的任务数量，小于或等于 taskcount 
3. largestPoolSize：线程池里曾经创建过的最大线程数量。通过这个数据可以知道线程池是否曾经满过。如该数值等于线程池的最大大小，则表示线程池曾经满过
4. getPoolSize：线程池的线程数量。如果线程池不销毁的话，线程池里的线程不会自动销毁，所以这个大小只增不减
5. getActiveCount：获取活动的线程数

当然也可以通过继承线程池来自定义线程池来自定义线程池，重写线程池beforeEeecute afterExecute 和terminated方法，在执行任务前，执行任务后，和线程池关闭前执行一些代码来进行监控。


```
public class CustomThreadPool extends ThreadPoolExecutor {
}
```
