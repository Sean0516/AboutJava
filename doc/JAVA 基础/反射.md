Java 反射机制是指再运行状态中，对任意一个类，能够知道这个类的所有属性和方法，对于任意一个对象，都能够调用他的任意一个方法和属性，这种动态获取信息以及动态调用对象的方法的功能称为Java的反射机制 。总的来说，反射可以在运行时知道任意一个类的属性和方法

反射获取class 类的方式：

```
Test test;
Class  c=test.getClass();
Class c= ClassforName("className");
Class c=Test.class 
```

为什么要用反射机制？直接创建对象不就可以了吗，这就涉及到了动态与静态的概念
静态编译：在编译时确定类型，绑定对象,即通过。
动态编译：运行时确定类型，绑定对象。动态编译最大限度发挥了java的灵活性，体现了多态的应用，有以降低类之间的藕合性。
通过类类型知道一个类的属性和方法，并且可以调用一个类的属性和方法，这就是反射的基础。

前面我们知道了怎么获取Class，那么我们可以通过这个Class干什么呢？
总结如下：

1. 获取成员方法Method
2.  获取成员变量Field
3. 获取构造函数Constructor
4. 使用反射调用任意方法：
在method 类中有一个invoke 方法，允许调用包装在当前method对象中的方法 Object invoke(Object obj, Object... args)


只要知道这个类的路径全称就能玩弄它于鼓掌之间。
new创建对象是静态加载类，编译时刻需要加载所有需要用到的类，而通过动态加载则在运行时刻加载  

但是 需要注意的是，虽然反射能在运行时查看域和方法，让人们编写出更具通用性的程序，这种功能对于编程系统程序来说及其适用，但是通常不适用编写应用程序，反射是很脆弱的，即编译器很难帮组人们发现程序中的错误，只有在运行时才能发现错误并导致异常

### 反射的优点：
- 可扩展性 ：应用程序可以利用全限定名创建可扩展对象的实例，来使用来自外部的用户自定义类
- 类浏览器和可视化开发环境：一个类浏览器需要可以枚举类的成员。可视化开发环境（如 IDE）可以从利用反射中可用的类型信息中受益，以帮助程序员编写正确的代码

### 反射的缺点
- 性能开销 ：反射涉及了动态类型的解析，所以 JVM 无法对这些代码进行优化。因此，反射操作的效率要比那些非反射操作低得多。我们应该避免在经常被执行的代码或对性能要求很高的程序中使用反射
- 安全限制 ：使用反射技术要求程序必须在一个没有安全限制的环境中运行。如果一个程序必须在有安全限制的环境中运行，如 Applet，那么这就是个问题了
- 内部暴露 ：由于反射允许代码执行一些在正常情况下不被允许的操作，所以使用反射可能会导致意料之外的副作用，这可能导致代码功能失调并破坏可移植性。反射代码破坏了抽象性，因此当平台发生改变的时候，代码的行为就有可能也随着变化